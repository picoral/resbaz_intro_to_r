<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 2 Intro to R Part I | ResBaz Arizona 2020 Intro to R</title>
  <meta name="description" content="This is the lesson plan for the two Intro do R workshop sections held at ResBaz Arizona on May 18 and 19, 2020." />
  <meta name="generator" content="bookdown 0.18 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 2 Intro to R Part I | ResBaz Arizona 2020 Intro to R" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="This is the lesson plan for the two Intro do R workshop sections held at ResBaz Arizona on May 18 and 19, 2020." />
  <meta name="github-repo" content="rstudio/bookdown-demo" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 2 Intro to R Part I | ResBaz Arizona 2020 Intro to R" />
  
  <meta name="twitter:description" content="This is the lesson plan for the two Intro do R workshop sections held at ResBaz Arizona on May 18 and 19, 2020." />
  

<meta name="author" content="Adriana Picoral" />


<meta name="date" content="2020-05-17" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="index.html"/>
<link rel="next" href="partii.html"/>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />











<style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; left: -4em; }
pre.numberSource a.sourceLine::before
  { content: attr(data-line-number);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">ResBaz Arizona 2020 - Intro to R</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Before we start</a><ul>
<li class="chapter" data-level="1.1" data-path="index.html"><a href="index.html#installing-r-and-r-studio"><i class="fa fa-check"></i><b>1.1</b> Installing R and R Studio</a><ul>
<li class="chapter" data-level="1.1.1" data-path="index.html"><a href="index.html#ive-never-installed-r-and-rstudio-in-my-computer-or-im-not-sure-i-have-r-and-rstudio-installed-in-my-computer"><i class="fa fa-check"></i><b>1.1.1</b> I’ve never installed R and RStudio in my computer OR I’m not sure I have R and RStudio installed in my computer</a></li>
<li class="chapter" data-level="1.1.2" data-path="index.html"><a href="index.html#i-already-have-r-and-rstudio-installed"><i class="fa fa-check"></i><b>1.1.2</b> I already have R and RStudio installed</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="2" data-path="parti.html"><a href="parti.html"><i class="fa fa-check"></i><b>2</b> Intro to R Part I</a><ul>
<li class="chapter" data-level="2.1" data-path="parti.html"><a href="parti.html#getting-to-know-your-ide"><i class="fa fa-check"></i><b>2.1</b> Getting to know your IDE</a></li>
<li class="chapter" data-level="2.2" data-path="parti.html"><a href="parti.html#operations-and-objects"><i class="fa fa-check"></i><b>2.2</b> Operations and Objects</a></li>
<li class="chapter" data-level="2.3" data-path="parti.html"><a href="parti.html#dataframes"><i class="fa fa-check"></i><b>2.3</b> Dataframes</a></li>
<li class="chapter" data-level="2.4" data-path="parti.html"><a href="parti.html#slicing-you-dataframe"><i class="fa fa-check"></i><b>2.4</b> Slicing you dataframe</a></li>
<li class="chapter" data-level="2.5" data-path="parti.html"><a href="parti.html#adding-new-variables-i.e.-columns-to-your-dataframe"><i class="fa fa-check"></i><b>2.5</b> Adding new variables (i.e., columns) to your dataframe</a></li>
<li class="chapter" data-level="2.6" data-path="parti.html"><a href="parti.html#descriptive-stats-on-dataframes"><i class="fa fa-check"></i><b>2.6</b> Descriptive stats on dataframes</a></li>
<li class="chapter" data-level="2.7" data-path="parti.html"><a href="parti.html#for-loops"><i class="fa fa-check"></i><b>2.7</b> For loops</a></li>
<li class="chapter" data-level="2.8" data-path="parti.html"><a href="parti.html#if-blocks"><i class="fa fa-check"></i><b>2.8</b> If blocks</a></li>
<li class="chapter" data-level="2.9" data-path="parti.html"><a href="parti.html#functions"><i class="fa fa-check"></i><b>2.9</b> Functions</a></li>
<li class="chapter" data-level="2.10" data-path="parti.html"><a href="parti.html#putting-it-all-together"><i class="fa fa-check"></i><b>2.10</b> Putting it all together</a></li>
<li class="chapter" data-level="2.11" data-path="parti.html"><a href="parti.html#note-on-coding-style"><i class="fa fa-check"></i><b>2.11</b> Note on coding style</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="partii.html"><a href="partii.html"><i class="fa fa-check"></i><b>3</b> Intro to R Part II</a><ul>
<li class="chapter" data-level="3.1" data-path="partii.html"><a href="partii.html#installing-and-using-packages-in-r"><i class="fa fa-check"></i><b>3.1</b> Installing and using packages in R</a></li>
<li class="chapter" data-level="3.2" data-path="partii.html"><a href="partii.html#acquire-data"><i class="fa fa-check"></i><b>3.2</b> Acquire data</a></li>
<li class="chapter" data-level="3.3" data-path="partii.html"><a href="partii.html#load-data-in-r"><i class="fa fa-check"></i><b>3.3</b> Load data in R</a></li>
<li class="chapter" data-level="3.4" data-path="partii.html"><a href="partii.html#inspect-your-data"><i class="fa fa-check"></i><b>3.4</b> Inspect your data</a></li>
<li class="chapter" data-level="3.5" data-path="partii.html"><a href="partii.html#explore-your-data"><i class="fa fa-check"></i><b>3.5</b> Explore your data</a><ul>
<li class="chapter" data-level="3.5.1" data-path="partii.html"><a href="partii.html#group-by-count"><i class="fa fa-check"></i><b>3.5.1</b> Group by + count</a></li>
<li class="chapter" data-level="3.5.2" data-path="partii.html"><a href="partii.html#group-by-summarise"><i class="fa fa-check"></i><b>3.5.2</b> Group by + summarise</a></li>
</ul></li>
<li class="chapter" data-level="3.6" data-path="partii.html"><a href="partii.html#mutate"><i class="fa fa-check"></i><b>3.6</b> Mutate</a></li>
<li class="chapter" data-level="3.7" data-path="partii.html"><a href="partii.html#filter-your-data"><i class="fa fa-check"></i><b>3.7</b> Filter your data</a></li>
<li class="chapter" data-level="3.8" data-path="partii.html"><a href="partii.html#conditionally-mutate-your-data"><i class="fa fa-check"></i><b>3.8</b> Conditionally mutate your data</a></li>
<li class="chapter" data-level="3.9" data-path="partii.html"><a href="partii.html#pivot-your-data"><i class="fa fa-check"></i><b>3.9</b> Pivot your data</a></li>
</ul></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">ResBaz Arizona 2020 Intro to R</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="parti" class="section level1">
<h1><span class="header-section-number">Chapter 2</span> Intro to R Part I</h1>
<div id="getting-to-know-your-ide" class="section level2">
<h2><span class="header-section-number">2.1</span> Getting to know your IDE</h2>
<div id="explanation" class="explanation">
<p>What’s an <strong>IDE</strong>? IDE stands for <strong>i</strong>ntegrated <strong>d</strong>evelopment <strong>e</strong>nvironment, and its goal is to facilitate coding by integrating a <strong>text editor</strong>, a <strong>console</strong> and other tools into one window.</p>
</div>
<p>We are using RStudio as our IDE for this workshop. You can either download and install R and RStudio on your computer (for instructions on how to do so, see the “Before we start” section) or create a free account at <a href="http://rstudio.cloud" class="uri">http://rstudio.cloud</a> and run your R code in the cloud.</p>
<p>In this part of the workshop we will start an R project and situating ourselves around our IDE.</p>
<div id="explanation" class="explanation">
<p>Why create a RStudio project? RStudio projects make it easier to keep your projects organized, since each project has their own working directory, workspace, history, and source documents.</p>
</div>
<ol style="list-style-type: decimal">
<li>Start a new R project</li>
<li>Create a new R script</li>
<li>Save that R script as 01-intro_to_r_part_one</li>
</ol>
<div id="question" class="question">
<p>Take a moment to look around your IDE. What are the main panes on the RStudio interface. What are the 4 main areas of the interface? Can you guess what each area is for?</p>
</div>
</div>
<div id="operations-and-objects" class="section level2">
<h2><span class="header-section-number">2.2</span> Operations and Objects</h2>
<p>Let’s start by using R as a calculator. On your <strong>console</strong> type <code>3 + 3</code> and hit enter.</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb1-1" data-line-number="1"><span class="dv">3</span> <span class="op">+</span><span class="st"> </span><span class="dv">3</span></a></code></pre></div>
<pre><code>## [1] 6</code></pre>
<div id="question" class="question">
<p>What symbols do we use for all basic operations (addition, subtraction, multiplication, and division)?
What happens if you type <code>3 +</code>?</p>
</div>
<p>Let’s save our calculation into an object, by using the assignment symbol <code>&lt;-</code>.</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb3-1" data-line-number="1">sum_result &lt;-<span class="st"> </span><span class="dv">3</span> <span class="op">+</span><span class="st"> </span><span class="dv">3</span></a></code></pre></div>
<div id="question" class="question">
<p>Take a moment to look around your IDE once again. What has changed?</p>
</div>
<p>Now, let’s use this new object in our calculation</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb4-1" data-line-number="1">sum_result <span class="op">+</span><span class="st"> </span><span class="dv">3</span></a></code></pre></div>
<pre><code>## [1] 9</code></pre>
<div id="question" class="question">
<p>Take a moment to look around your IDE once again. Has anything changed?</p>
</div>
<p>What else can we do with an object?</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb6-1" data-line-number="1"><span class="kw">class</span>(sum_result)</a></code></pre></div>
<pre><code>## [1] &quot;numeric&quot;</code></pre>
<p>R is primarily a functional programming language. That means that there pre-programmed functions in base R such as <code>class()</code> and that you can also write your own functions (more on that later).</p>
<p>Type <code>?class</code> in your console and hit enter to get more information about this function.</p>
<div id="challenge" class="challenge">
<p>CHALLENGE</p>
<p>Create an object called <code>daisys_age</code> that holds the number 8.
Multiply <code>daisys_age</code> by 4 and save the results in another object called <code>daisys_human_age</code></p>
</div>
<p>Imagine I had multiple pets (unfortunately, that is not true, Daisy is my only pet). I can create a <strong>vector</strong> to hold multiple numbers representing the age of each of my pets.</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb8-1" data-line-number="1">my_pets_ages &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">8</span>, <span class="dv">2</span>, <span class="dv">6</span>, <span class="dv">3</span>, <span class="dv">1</span>)</a></code></pre></div>
<div id="question" class="question">
<p>Take a moment to look around your IDE once again. What has changed?</p>
<p>What is the class of the object <code>my_pets_ages</code>?</p>
</div>
<p>Now let’s multiply this vector by 4.</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb9-1" data-line-number="1">my_pets_ages <span class="op">*</span><span class="st"> </span><span class="dv">4</span></a></code></pre></div>
<pre><code>## [1] 32  8 24 12  4</code></pre>
<p>Errors are pretty common when writing code in any programming language, so be ready to read error messages and debug your code. Let’s insert a typing error in our previous code:</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb11-1" data-line-number="1">my_pets_ages &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">8</span>, <span class="dv">2</span>, <span class="dv">6</span>, <span class="st">&#39;3&#39;</span>, <span class="dv">1</span>)</a></code></pre></div>
<div id="challenge" class="challenge">
<p>CHALLENGE</p>
<p>Try to multiply <code>my_pets_ages</code> by 4. What happens? How can we debug our code to find out what is causing the error?</p>
</div>
</div>
<div id="dataframes" class="section level2">
<h2><span class="header-section-number">2.3</span> Dataframes</h2>
<p>You will rarely work with individual numeric values, or even individual numeric vectors. Often, we have information organized in dataframes, which is R’s version of a spreadsheet.</p>
<p>Let’s go back to my imaginary pet’s ages (make sure you have the correct vector in your global environment).</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb12-1" data-line-number="1">my_pets_ages &lt;-<span class="st"> </span><span class="kw">as.numeric</span>(my_pets_ages)</a></code></pre></div>
<p>We will now create a vector of strings or characters that holds my imaginary pets’ names (we have to be careful to keep the same order then the <code>my_pets_ages</code> vector).</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb13-1" data-line-number="1">my_pets_names &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&#39;Daisy&#39;</span>, <span class="st">&#39;Violet&#39;</span>, <span class="st">&#39;Lily&#39;</span>, <span class="st">&#39;Iris&#39;</span>, <span class="st">&#39;Poppy&#39;</span>)</a></code></pre></div>
<p>Let’s now create a dataframe that contains info about my pets.</p>
<div class="sourceCode" id="cb14"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb14-1" data-line-number="1"><span class="co"># create dataframe</span></a>
<a class="sourceLine" id="cb14-2" data-line-number="2">my_pets &lt;-<span class="st"> </span><span class="kw">data.frame</span>(<span class="dt">name =</span> my_pets_names, <span class="dt">age =</span> my_pets_ages)</a>
<a class="sourceLine" id="cb14-3" data-line-number="3"></a>
<a class="sourceLine" id="cb14-4" data-line-number="4"><span class="co"># print out dataframe</span></a>
<a class="sourceLine" id="cb14-5" data-line-number="5">my_pets</a></code></pre></div>
<pre><code>##     name age
## 1  Daisy   8
## 2 Violet   2
## 3   Lily   6
## 4   Iris   3
## 5  Poppy   1</code></pre>
<div id="challenge" class="challenge">
<p>CHALLENGE</p>
<p>There’s a number of functions you can run on dataframes. Try running the following functions on <code>my_pets</code>:</p>
<ul>
<li><p>summary()</p></li>
<li><p>nrow()</p></li>
<li><p>ncol()</p></li>
<li><p>dim()</p></li>
</ul>
<p>What other functions can/do you think/know of?</p>
</div>
</div>
<div id="slicing-you-dataframe" class="section level2">
<h2><span class="header-section-number">2.4</span> Slicing you dataframe</h2>
<p>There are different ways you can slice or subset your dataframe.</p>
<p>You can use indices for rows and columns.</p>
<div class="sourceCode" id="cb16"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb16-1" data-line-number="1">my_pets[<span class="dv">1</span>,]</a></code></pre></div>
<pre><code>##    name age
## 1 Daisy   8</code></pre>
<div class="sourceCode" id="cb18"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb18-1" data-line-number="1">my_pets[, <span class="dv">1</span>]</a></code></pre></div>
<pre><code>## [1] &quot;Daisy&quot;  &quot;Violet&quot; &quot;Lily&quot;   &quot;Iris&quot;   &quot;Poppy&quot;</code></pre>
<div class="sourceCode" id="cb20"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb20-1" data-line-number="1">my_pets[<span class="dv">1</span>, <span class="dv">1</span>]</a></code></pre></div>
<pre><code>## [1] &quot;Daisy&quot;</code></pre>
<p>You can use a column name or a row name instead of an index.</p>
<div class="sourceCode" id="cb22"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb22-1" data-line-number="1">my_pets[, <span class="st">&#39;age&#39;</span>]</a></code></pre></div>
<pre><code>## [1] 8 2 6 3 1</code></pre>
<div class="sourceCode" id="cb24"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb24-1" data-line-number="1">my_pets[<span class="st">&#39;1&#39;</span>, ]</a></code></pre></div>
<pre><code>##    name age
## 1 Daisy   8</code></pre>
<div class="sourceCode" id="cb26"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb26-1" data-line-number="1">my_pets[<span class="st">&#39;1&#39;</span>, <span class="st">&#39;age&#39;</span>]</a></code></pre></div>
<pre><code>## [1] 8</code></pre>
<p>Or you can use <code>$</code> to retrieve values from a column.</p>
<div class="sourceCode" id="cb28"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb28-1" data-line-number="1">my_pets<span class="op">$</span>age</a></code></pre></div>
<pre><code>## [1] 8 2 6 3 1</code></pre>
<div class="sourceCode" id="cb30"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb30-1" data-line-number="1">my_pets<span class="op">$</span>age[<span class="dv">1</span>]</a></code></pre></div>
<pre><code>## [1] 8</code></pre>
<p>You can also use comparisons to filter your dataframe</p>
<div class="sourceCode" id="cb32"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb32-1" data-line-number="1"><span class="co"># get index with which() function</span></a>
<a class="sourceLine" id="cb32-2" data-line-number="2"><span class="kw">which</span>(my_pets<span class="op">$</span>age <span class="op">==</span><span class="st"> </span><span class="dv">8</span>)</a></code></pre></div>
<pre><code>## [1] 1</code></pre>
<div class="sourceCode" id="cb34"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb34-1" data-line-number="1"><span class="co"># use which() inside dataframe indexing my_pets[row_number, column_number]</span></a>
<a class="sourceLine" id="cb34-2" data-line-number="2">my_pets[<span class="kw">which</span>(my_pets<span class="op">$</span>age <span class="op">==</span><span class="st"> </span><span class="dv">8</span>),]</a></code></pre></div>
<pre><code>##    name age
## 1 Daisy   8</code></pre>
<div class="sourceCode" id="cb36"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb36-1" data-line-number="1">my_pets[<span class="kw">which</span>(my_pets<span class="op">$</span>age <span class="op">==</span><span class="st"> </span><span class="dv">8</span>), <span class="dv">1</span>]</a></code></pre></div>
<pre><code>## [1] &quot;Daisy&quot;</code></pre>
<div class="sourceCode" id="cb38"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb38-1" data-line-number="1">my_pets[<span class="kw">which</span>(my_pets<span class="op">$</span>age <span class="op">==</span><span class="st"> </span><span class="dv">8</span>), <span class="st">&#39;name&#39;</span>]</a></code></pre></div>
<pre><code>## [1] &quot;Daisy&quot;</code></pre>
<div class="sourceCode" id="cb40"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb40-1" data-line-number="1">my_pets[<span class="kw">which</span>(my_pets<span class="op">$</span>age <span class="op">==</span><span class="st"> </span><span class="dv">8</span>),]<span class="op">$</span>name</a></code></pre></div>
<pre><code>## [1] &quot;Daisy&quot;</code></pre>
<div id="challenge" class="challenge">
<p>CHALLENGE</p>
<p>Print out a list of pet names that are older than 3.</p>
</div>
</div>
<div id="adding-new-variables-i.e.-columns-to-your-dataframe" class="section level2">
<h2><span class="header-section-number">2.5</span> Adding new variables (i.e., columns) to your dataframe</h2>
<p>So far the <code>my_pets</code> dataframe has two columns: name and age.</p>
<p>Let’s add a third column with the pets’ ages in human years. For that, we are going to use <code>$</code> on with a variable (or column) name that does not exist in our dataframe yet. We will then assign to this variable the value in the <code>age</code> column multiplied by 4.</p>
<div class="sourceCode" id="cb42"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb42-1" data-line-number="1"><span class="co"># create new column called human_years</span></a>
<a class="sourceLine" id="cb42-2" data-line-number="2">my_pets<span class="op">$</span>human_years &lt;-<span class="st"> </span>my_pets<span class="op">$</span>age <span class="op">*</span><span class="st"> </span><span class="dv">4</span></a>
<a class="sourceLine" id="cb42-3" data-line-number="3"></a>
<a class="sourceLine" id="cb42-4" data-line-number="4"><span class="co"># print dataframe</span></a>
<a class="sourceLine" id="cb42-5" data-line-number="5">my_pets</a></code></pre></div>
<pre><code>##     name age human_years
## 1  Daisy   8          32
## 2 Violet   2           8
## 3   Lily   6          24
## 4   Iris   3          12
## 5  Poppy   1           4</code></pre>
<div id="question" class="question">
<p>Inspect the new <code>my_pets</code> dataframe. What dimensions does it have now? How could you get a list of just the human years values in the data frame?</p>
</div>
</div>
<div id="descriptive-stats-on-dataframes" class="section level2">
<h2><span class="header-section-number">2.6</span> Descriptive stats on dataframes</h2>
<p>Let’s explore some functions for descriptive statistics.</p>
<div id="challenge" class="challenge">
<p>CHALLENGE</p>
<p>Try running the following functions on <code>my_pets$age</code> and <code>my_pets$human_years</code>:</p>
<ul>
<li><p>mean()</p></li>
<li><p>sd()</p></li>
<li><p>median()</p></li>
<li><p>max()</p></li>
<li><p>min()</p></li>
<li><p>range()</p></li>
</ul>
<p>What other functions can/do you think/know of?</p>
</div>
</div>
<div id="for-loops" class="section level2">
<h2><span class="header-section-number">2.7</span> For loops</h2>
<p>Besides implementing operations on an entire column (e.g., <code>my_pets$age * 4</code> multiplies each value in the <code>age</code> column of <code>my_pets</code> dataframe by 4), you can loop through each element in your dataframe column using a for loop.</p>
<p>There are two ways of writing a for loop in R.</p>
<div class="sourceCode" id="cb44"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb44-1" data-line-number="1"><span class="cf">for</span> (pet <span class="cf">in</span> my_pets<span class="op">$</span>name) {</a>
<a class="sourceLine" id="cb44-2" data-line-number="2">  <span class="kw">print</span>(pet)</a>
<a class="sourceLine" id="cb44-3" data-line-number="3">}</a></code></pre></div>
<pre><code>## [1] &quot;Daisy&quot;
## [1] &quot;Violet&quot;
## [1] &quot;Lily&quot;
## [1] &quot;Iris&quot;
## [1] &quot;Poppy&quot;</code></pre>
<div class="sourceCode" id="cb46"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb46-1" data-line-number="1"><span class="cf">for</span> (i <span class="cf">in</span> <span class="kw">c</span>(<span class="dv">1</span><span class="op">:</span><span class="dv">5</span>)) {</a>
<a class="sourceLine" id="cb46-2" data-line-number="2">  <span class="kw">print</span>(my_pets<span class="op">$</span>name[i])</a>
<a class="sourceLine" id="cb46-3" data-line-number="3">}</a></code></pre></div>
<pre><code>## [1] &quot;Daisy&quot;
## [1] &quot;Violet&quot;
## [1] &quot;Lily&quot;
## [1] &quot;Iris&quot;
## [1] &quot;Poppy&quot;</code></pre>
<div id="challenge" class="challenge">
<p>CHALLENGE</p>
<p>Write a <code>for</code> loop to print each pets’ name and age. You can use the function <code>paste()</code> to combined the two variables into one line.</p>
<p>Remember you can enter <code>?paste</code> in your console to get information on how to use this function.</p>
</div>
<hr />
<div id="question" class="question">
<p>Take a moment to look around your IDE once again. What objects do you have in your environment?</p>
</div>
</div>
<div id="if-blocks" class="section level2">
<h2><span class="header-section-number">2.8</span> If blocks</h2>
<p>Maybe calculating a pet’s age in human years is more complex than just multiplying it by 4 (or 7?). The <a href="https://www.akc.org/expert-advice/health/how-to-calculate-dog-years-to-human-years/">American Kennel club</a> has the following on how to calculate dog years to human years:</p>
<ul>
<li>15 human years equals the first year of a medium-sized dog’s life.</li>
<li>Year two for a dog equals about nine years for a human.</li>
<li>And after that, each human year would be approximately five years for a dog.</li>
</ul>
<p>Let’s first figure out all the if statements we need for this</p>
<div class="sourceCode" id="cb48"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb48-1" data-line-number="1">this_dogs_age &lt;-<span class="st"> </span>my_pets<span class="op">$</span>age[<span class="dv">1</span>]</a>
<a class="sourceLine" id="cb48-2" data-line-number="2"></a>
<a class="sourceLine" id="cb48-3" data-line-number="3">this_dogs_human_age &lt;-<span class="st"> </span><span class="dv">15</span></a>
<a class="sourceLine" id="cb48-4" data-line-number="4"></a>
<a class="sourceLine" id="cb48-5" data-line-number="5"><span class="cf">if</span> (this_dogs_age <span class="op">&gt;=</span><span class="st"> </span><span class="dv">2</span>) {</a>
<a class="sourceLine" id="cb48-6" data-line-number="6">  this_dogs_human_age &lt;-<span class="st"> </span>this_dogs_human_age <span class="op">+</span><span class="st"> </span><span class="dv">9</span></a>
<a class="sourceLine" id="cb48-7" data-line-number="7">}</a>
<a class="sourceLine" id="cb48-8" data-line-number="8"></a>
<a class="sourceLine" id="cb48-9" data-line-number="9"><span class="cf">if</span> (this_dogs_age <span class="op">&gt;=</span><span class="dv">3</span>) {</a>
<a class="sourceLine" id="cb48-10" data-line-number="10">  this_dogs_human_age &lt;-<span class="st"> </span>this_dogs_human_age <span class="op">+</span><span class="st"> </span>((this_dogs_age <span class="op">-</span><span class="st"> </span><span class="dv">2</span>) <span class="op">*</span><span class="st"> </span><span class="dv">5</span>)</a>
<a class="sourceLine" id="cb48-11" data-line-number="11">}</a></code></pre></div>
<p>Now, let’s create a for loop to calculate human age for every pet.</p>
<div class="sourceCode" id="cb49"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb49-1" data-line-number="1"><span class="cf">for</span> (i <span class="cf">in</span> <span class="kw">c</span>(<span class="dv">1</span><span class="op">:</span><span class="dv">5</span>)) {</a>
<a class="sourceLine" id="cb49-2" data-line-number="2">  <span class="co"># store dog i age in an object</span></a>
<a class="sourceLine" id="cb49-3" data-line-number="3">  this_dogs_age &lt;-<span class="st"> </span>my_pets<span class="op">$</span>age[i]</a>
<a class="sourceLine" id="cb49-4" data-line-number="4">  </a>
<a class="sourceLine" id="cb49-5" data-line-number="5">  <span class="co"># 15 human years equals the first year of a medium-sized dog&#39;s life.</span></a>
<a class="sourceLine" id="cb49-6" data-line-number="6">  this_dogs_human_years &lt;-<span class="st"> </span><span class="dv">15</span></a>
<a class="sourceLine" id="cb49-7" data-line-number="7">  </a>
<a class="sourceLine" id="cb49-8" data-line-number="8">  <span class="co"># if the pet is two years or older</span></a>
<a class="sourceLine" id="cb49-9" data-line-number="9">  <span class="cf">if</span> (this_dogs_age <span class="op">&gt;=</span><span class="st"> </span><span class="dv">2</span>) {</a>
<a class="sourceLine" id="cb49-10" data-line-number="10">    <span class="co"># Year two for a dog equals about nine years for a human.</span></a>
<a class="sourceLine" id="cb49-11" data-line-number="11">    this_dogs_human_years &lt;-<span class="st"> </span>this_dogs_human_years <span class="op">+</span><span class="st"> </span><span class="dv">9</span></a>
<a class="sourceLine" id="cb49-12" data-line-number="12">    </a>
<a class="sourceLine" id="cb49-13" data-line-number="13">    <span class="co"># And after that, each human year would be approximately five years for a dog.</span></a>
<a class="sourceLine" id="cb49-14" data-line-number="14">    partial_dog_age &lt;-<span class="st"> </span>(this_dogs_age <span class="op">-</span><span class="st"> </span><span class="dv">2</span>) <span class="op">*</span><span class="st"> </span><span class="dv">5</span></a>
<a class="sourceLine" id="cb49-15" data-line-number="15">    </a>
<a class="sourceLine" id="cb49-16" data-line-number="16">    <span class="co"># sum up both parts</span></a>
<a class="sourceLine" id="cb49-17" data-line-number="17">    this_dogs_human_years &lt;-<span class="st"> </span>this_dogs_human_years <span class="op">+</span><span class="st"> </span>partial_dog_age</a>
<a class="sourceLine" id="cb49-18" data-line-number="18">  } </a>
<a class="sourceLine" id="cb49-19" data-line-number="19">  <span class="co"># add the final calculation to the dataframe</span></a>
<a class="sourceLine" id="cb49-20" data-line-number="20">  my_pets<span class="op">$</span>human_years2[i] &lt;-<span class="st"> </span>this_dogs_human_years</a>
<a class="sourceLine" id="cb49-21" data-line-number="21">}</a>
<a class="sourceLine" id="cb49-22" data-line-number="22"></a>
<a class="sourceLine" id="cb49-23" data-line-number="23"><span class="co"># print dataframe</span></a>
<a class="sourceLine" id="cb49-24" data-line-number="24">my_pets</a></code></pre></div>
<pre><code>##     name age human_years human_years2
## 1  Daisy   8          32           54
## 2 Violet   2           8           24
## 3   Lily   6          24           44
## 4   Iris   3          12           29
## 5  Poppy   1           4           15</code></pre>
</div>
<div id="functions" class="section level2">
<h2><span class="header-section-number">2.9</span> Functions</h2>
<p>Functions are extremely useful to make your R code more organized and reusable.</p>
<p>The main structure of a function is <code>object_name &lt;- function() code_here</code>,Here’s an example of a simple function.</p>
<div class="sourceCode" id="cb51"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb51-1" data-line-number="1">human_years &lt;-<span class="st"> </span><span class="cf">function</span>(pets_age) {</a>
<a class="sourceLine" id="cb51-2" data-line-number="2"></a>
<a class="sourceLine" id="cb51-3" data-line-number="3">  <span class="co"># 15 human years equals the first year of a medium-sized dog&#39;s life.</span></a>
<a class="sourceLine" id="cb51-4" data-line-number="4">  human_years &lt;-<span class="st"> </span><span class="dv">15</span></a>
<a class="sourceLine" id="cb51-5" data-line-number="5">  </a>
<a class="sourceLine" id="cb51-6" data-line-number="6">  <span class="co"># if the pet is two years or older</span></a>
<a class="sourceLine" id="cb51-7" data-line-number="7">  <span class="cf">if</span> (pets_age <span class="op">&gt;=</span><span class="st"> </span><span class="dv">2</span>) {</a>
<a class="sourceLine" id="cb51-8" data-line-number="8">    <span class="co"># Year two for a dog equals about nine years for a human.</span></a>
<a class="sourceLine" id="cb51-9" data-line-number="9">    <span class="co"># And after that, each human year would be approximately five years for a dog.</span></a>
<a class="sourceLine" id="cb51-10" data-line-number="10">    human_years &lt;-<span class="st"> </span>human_years <span class="op">+</span><span class="st"> </span><span class="dv">9</span> <span class="op">+</span><span class="st"> </span>(pets_age <span class="op">-</span><span class="st"> </span><span class="dv">2</span>) <span class="op">*</span><span class="st"> </span><span class="dv">5</span></a>
<a class="sourceLine" id="cb51-11" data-line-number="11">    </a>
<a class="sourceLine" id="cb51-12" data-line-number="12">  } </a>
<a class="sourceLine" id="cb51-13" data-line-number="13">  <span class="kw">return</span>(human_years)</a>
<a class="sourceLine" id="cb51-14" data-line-number="14">}</a>
<a class="sourceLine" id="cb51-15" data-line-number="15"></a>
<a class="sourceLine" id="cb51-16" data-line-number="16"><span class="kw">human_years</span>(<span class="dv">3</span>)</a></code></pre></div>
<pre><code>## [1] 29</code></pre>
<div class="sourceCode" id="cb53"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb53-1" data-line-number="1">my_pets<span class="op">$</span>human_years2 &lt;-<span class="st"> </span><span class="kw">sapply</span>(my_pets<span class="op">$</span>age, human_years)</a></code></pre></div>
<p>Read more on writing your own functions: <a href="https://nicercode.github.io/guides/functions/">Nice R Code - Functions</a></p>
</div>
<div id="putting-it-all-together" class="section level2">
<h2><span class="header-section-number">2.10</span> Putting it all together</h2>
<p>Read and run the code below that provides some info on our <code>my_pets</code> dataframe.</p>
<div class="sourceCode" id="cb54"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb54-1" data-line-number="1"><span class="co"># get number of rows for the for loop</span></a>
<a class="sourceLine" id="cb54-2" data-line-number="2">how_many_pets &lt;-<span class="st"> </span><span class="kw">nrow</span>(my_pets)</a>
<a class="sourceLine" id="cb54-3" data-line-number="3"></a>
<a class="sourceLine" id="cb54-4" data-line-number="4"><span class="co"># a for loop to print info on each pet</span></a>
<a class="sourceLine" id="cb54-5" data-line-number="5"><span class="cf">for</span> (i <span class="cf">in</span> <span class="kw">c</span>(<span class="dv">1</span><span class="op">:</span>how_many_pets)) {</a>
<a class="sourceLine" id="cb54-6" data-line-number="6">  <span class="co"># paste info with some prose</span></a>
<a class="sourceLine" id="cb54-7" data-line-number="7">  info_to_print &lt;-<span class="st"> </span><span class="kw">paste</span>(my_pets<span class="op">$</span>name[i], <span class="st">&#39;is&#39;</span>,</a>
<a class="sourceLine" id="cb54-8" data-line-number="8">                         my_pets<span class="op">$</span>age[i], </a>
<a class="sourceLine" id="cb54-9" data-line-number="9">                         <span class="st">&#39;years old in pet years, which is equivalent to&#39;</span>,</a>
<a class="sourceLine" id="cb54-10" data-line-number="10">                         my_pets<span class="op">$</span>human_years[i], <span class="st">&#39;human years.&#39;</span>)</a>
<a class="sourceLine" id="cb54-11" data-line-number="11">  <span class="co"># print out the info for pet i</span></a>
<a class="sourceLine" id="cb54-12" data-line-number="12">  <span class="kw">print</span>(info_to_print)</a>
<a class="sourceLine" id="cb54-13" data-line-number="13">} <span class="co"># end of for loop to print info on each pet</span></a></code></pre></div>
<pre><code>## [1] &quot;Daisy is 8 years old in pet years, which is equivalent to 32 human years.&quot;
## [1] &quot;Violet is 2 years old in pet years, which is equivalent to 8 human years.&quot;
## [1] &quot;Lily is 6 years old in pet years, which is equivalent to 24 human years.&quot;
## [1] &quot;Iris is 3 years old in pet years, which is equivalent to 12 human years.&quot;
## [1] &quot;Poppy is 1 years old in pet years, which is equivalent to 4 human years.&quot;</code></pre>
<div class="sourceCode" id="cb56"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb56-1" data-line-number="1"><span class="co"># print name of oldest pet</span></a>
<a class="sourceLine" id="cb56-2" data-line-number="2"><span class="co">## get max age</span></a>
<a class="sourceLine" id="cb56-3" data-line-number="3">max_age &lt;-<span class="st"> </span><span class="kw">max</span>(my_pets<span class="op">$</span>age)</a>
<a class="sourceLine" id="cb56-4" data-line-number="4">max_age</a></code></pre></div>
<pre><code>## [1] 8</code></pre>
<div class="sourceCode" id="cb58"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb58-1" data-line-number="1"><span class="co">## get index of max_age</span></a>
<a class="sourceLine" id="cb58-2" data-line-number="2">row_max_age &lt;-<span class="st"> </span><span class="kw">which</span>(my_pets<span class="op">$</span>age <span class="op">==</span><span class="st"> </span>max_age)</a>
<a class="sourceLine" id="cb58-3" data-line-number="3">row_max_age</a></code></pre></div>
<pre><code>## [1] 1</code></pre>
<div class="sourceCode" id="cb60"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb60-1" data-line-number="1"><span class="co">## print info for oldest pet</span></a>
<a class="sourceLine" id="cb60-2" data-line-number="2">oldest_pet &lt;-<span class="st"> </span>my_pets<span class="op">$</span>name[row_max_age]</a>
<a class="sourceLine" id="cb60-3" data-line-number="3">oldest_pet</a></code></pre></div>
<pre><code>## [1] &quot;Daisy&quot;</code></pre>
<div class="sourceCode" id="cb62"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb62-1" data-line-number="1"><span class="kw">print</span>(<span class="kw">paste</span>(oldest_pet, <span class="st">&#39;is the oldest pet&#39;</span>))</a></code></pre></div>
<pre><code>## [1] &quot;Daisy is the oldest pet&quot;</code></pre>
<div id="challenge" class="challenge">
<p>CHALLENGE</p>
<p>Add to the code above, to print the following information:</p>
<ol style="list-style-type: decimal">
<li><p>the name of the youngest pet</p></li>
<li><p>the mean pet age</p></li>
<li><p>any other info you find relevant</p></li>
</ol>
</div>
</div>
<div id="note-on-coding-style" class="section level2">
<h2><span class="header-section-number">2.11</span> Note on coding style</h2>
<p>Coding style refers to how you name your objects and functions, how you comment your code, how you use spacing throughout your code, etc. If your coding style is consistent, your code is easier to read and easier to debug as a result. Here’s some guides, so you can develop your own coding style:</p>
<ul>
<li><p><a href="https://style.tidyverse.org">The tidyverse style guide</a></p></li>
<li><p><a href="http://adv-r.had.co.nz/Style.html">Hadley Wickham’s Advance R coding style</a></p></li>
<li><p><a href="https://google.github.io/styleguide/Rguide.html">Google’s R Style Guide</a></p></li>
</ul>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="index.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="partii.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["intro_to_R.pdf", "intro_to_R.epub"],
"toc": {
"collapse": "subsection"
},
"search": true
});
});
</script>

</body>

</html>
